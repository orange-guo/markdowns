"use strict";(self.webpackChunkmarkdowns=self.webpackChunkmarkdowns||[]).push([[19642],{73901:(e,t,n)=>{n.r(t),n.d(t,{Example:()=>h,assets:()=>d,contentTitle:()=>u,default:()=>p,frontMatter:()=>c,metadata:()=>r,snowflake:()=>g,toc:()=>m});const r=JSON.parse('{"id":"software-engineering/tools/snowflake-id-generation","title":"Snowflake id generation","description":"","source":"@site/docs/software-engineering/tools/snowflake-id-generation.mdx","sourceDirName":"software-engineering/tools","slug":"/software-engineering/tools/snowflake-id-generation","permalink":"/docs/software-engineering/tools/snowflake-id-generation","draft":false,"unlisted":false,"editUrl":"https://github.com/orange-guo/markdowns/tree/master/docs/software-engineering/tools/snowflake-id-generation.mdx","tags":[],"version":"current","lastUpdatedBy":"Xiangcheng Kuo","lastUpdatedAt":1752808056000,"frontMatter":{},"sidebar":"softwareEngineering","previous":{"title":"estimate-time","permalink":"/docs/software-engineering/tools/estimate-time"},"next":{"title":"UI","permalink":"/docs/category/ui"}}');var o=n(74848),s=n(28453);function i(e,t,n){for(var r=[],o=Math.max(e.length,t.length),s=0,i=0;i<o||s;){var a=s+(i<e.length?e[i]:0)+(i<t.length?t[i]:0);r.push(a%n),s=Math.floor(a/n),i++}return r}function a(e,t,n){if(e<0)return null;if(0==e)return[];for(var r=[],o=t;1&e&&(r=i(r,o,n)),0!=(e>>=1);)o=i(o,o,n);return r}function l(e,t,n){var r=function(e,t){for(var n=e.split(""),r=[],o=n.length-1;o>=0;o--){var s=parseInt(n[o],t);if(isNaN(s))return null;r.push(s)}return r}(e,t);if(null===r)return null;for(var o=[],s=[1],l=0;l<r.length;l++)r[l]&&(o=i(o,a(r[l],s,n),n)),s=a(t,s,n);var f="";for(l=o.length-1;l>=0;l--)f+=o[l].toString(n);return f}var f=n(96540);const c={},u="Snowflake id generation",d={},g=new class{constructor(e){e=e||{},this.seq=0,this.mid=(e.mid||1)%1023,this.offset=e.offset||0,this.lastTime=0}generate(){const e=Date.now(),t=(e-this.offset).toString(2);if(this.lastTime==e){if(this.seq++,this.seq>4095)for(this.seq=0;Date.now()<=e;);}else this.seq=0;this.lastTime=e;let n=this.seq.toString(2),r=this.mid.toString(2);for(;n.length<12;)n="0"+n;for(;r.length<10;)r="0"+r;const o=t+r+n;let s="";for(let a=o.length;a>0;a-=4)s=parseInt(o.substring(a-4,a),2).toString(16)+s;return"0x"===(i=s).substring(0,2)&&(i=i.substring(2)),l(i=i.toLowerCase(),16,10);var i}}({mid:42,offset:1545264e6});function h(){const e={br:"br",button:"button",div:"div",label:"label",...(0,s.R)()},[t,n]=(0,f.useState)(g.generate()),[r,i]=(0,f.useState)("No snowflake id generated yet");return(0,o.jsxs)(e.div,{children:[(0,o.jsx)(e.label,{children:r}),(0,o.jsx)(e.br,{}),(0,o.jsx)(e.button,{onClick:()=>{n(g.generate()),i("Snowflake id: "+t)},children:"Click here to generate a snowflake id"})]})}const m=[];function w(e){const t={h1:"h1",header:"header",...(0,s.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(t.header,{children:(0,o.jsx)(t.h1,{id:"snowflake-id-generation",children:"Snowflake id generation"})}),"\n","\n","\n","\n","\n",(0,o.jsx)(h,{})]})}function p(e={}){const{wrapper:t}={...(0,s.R)(),...e.components};return t?(0,o.jsx)(t,{...e,children:(0,o.jsx)(w,{...e})}):w(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>i,x:()=>a});var r=n(96540);const o={},s=r.createContext(o);function i(e){const t=r.useContext(s);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function a(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:i(e.components),r.createElement(s.Provider,{value:t},e.children)}}}]);